<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<div *ngIf="watch==0" style="text-align: center;">

    <h2>Details  Window </h2>
    <br>

    Name:<input type="text" [(ngModel)]="custName" placeholder="Enter Your Name"><br>
    MovieName:<input type="text" [(ngModel)]="movieName" placeholder="Enter Movie Name"><br>
    Ticket Quantity:<input type="text" [(ngModel)]="ticketReq" placeholder="Enter The Ticket Quantity"><br>
    <br>
    <button (click)="ticket()">Search Theatre</button>
    <button (click)="addTheatre()">Add Theatre</button>

</div>
<div *ngIf="watch==1">
   <h2  style="text-align:center" >Theatre List </h2>
<table border="1" >
    <tr>
        <th>Sn</th>
        <th>Theatre Name</th>
        <th>Movie Name</th>
        <th>Seating Capacity</th>
        <th>Price</th>
    </tr>
    <tr *ngFor="let t of theatrelist, let i=index">
        <td>{{i+1}}</td>
        <td>{{t.theatreName}}</td>
        <td>{{t.movieName}}</td>
        <td>{{t.seatingCapacity}}</td>
        <td>{{t.price}}</td>
        <td><button (click)="theatre(t.theatreId)">Select This</button></td>
    </tr>
</table>
<button (click)="cancel()">Back</button>
</div>

<div *ngIf="watch==2">
<h2 style="text-align:center;">Virtual Ticket</h2>
<table border="1">
    
    <tr>
        
        <th>Customer Name</th>
        <th>Theatre Name</th>
        <th>Movie Name</th>
        <th>Single Ticket Price</th>
        <th>Total amount</th>
    </tr>
    <tr>
        <td>{{ticket1.custName}}</td>
        <td>{{ticket1.theatreName}}</td>
        <td>{{ticket1.movieName}}</td>
        <td>{{ticket1.price}}</td>
        <td>{{ticket1.totalPrice}}</td>
        <td> <button (click)="pay(ticket1.ticketId,ticket1.totalPrice)">Payment</button></td>
    </tr>
</table>
<button (click)="cancel1(ticket1.id)">Back</button>
</div>
<div *ngIf="watch==3">
    <h2 style="text-align:center;">Details Of Theatre </h2>
    <br>
Theatre Name:<input type="text" [(ngModel)]="theatreName" placeholder="Enter Theatre Name"><br>
MovieName:<input type="text" [(ngModel)]="movieName1" placeholder="Enter Movie Name"><br>
Seating Capacity:<input type="text" [(ngModel)]="seatingCapacity"><br>
Ticket Price:<input type="text" [(ngModel)]="price"><br>
<button (click)="addtheatre()">Add Theatre</button>
</div>
<div *ngIf="watch==4">
{{result}}
</div>

<div *ngIf="watch==5">

    <h2 style="text-align:center;">Payment Window </h2>
    <br>
    Payment Type:<input type="text" [(ngModel)]="paymentType" placeholder="Enter Payment Method"><br>
    Moblie Number:<input type="text" [(ngModel)]="mobileNumber" placeholder="Enter Your MobileNo"><br>
    Amount:<input value="{{totalprice1}}" disabled> <br>
    <button (click)="payment()">Confirm Payment</button>
</div>

<div *ngIf="watch==6">
<h2 style="text-align:center;">Final Ticket</h2>
    <table border="1">
        <tr>
            
            <th>Customer Name</th>
            <th>Theatre Name</th>
            <th>Movie Name</th>
            <th>Ticket Quantity</th>
            <th>Single Ticket Price</th>
            <th>Total amount</th>
            <th>Payment Status</th>
            
        </tr>
        <tr>
            <td>{{finalTicket.custName}}</td>
            <td>{{finalTicket.theatreName}}</td>
            <td>{{finalTicket.movieName}}</td>
            <td>{{finalTicket.ticketReq}}</td>
            <td>{{finalTicket.price}}</td>
            <td>{{finalTicket.totalPrice}}</td>
            <td>{{finalTicket.paymentstatus}}</td>
            
        </tr>
    </table>
    </div>
</body>
</html>